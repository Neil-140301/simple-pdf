import{S as O,i as k,s as R,k as d,a as A,q as S,l as f,m as u,c as C,r as $,h as r,J as M,n as l,b as U,G as s,H as E,y as q,z as G,K as j,A as z,L as J,g as W,d as Y,B as Q,o as X}from"../chunks/index.b13adcb1.js";function Z(v){let e,t,i,c,n,a;return{c(){e=d("div"),t=d("img"),c=A(),n=d("span"),a=S("No file loaded yet..."),this.h()},l(o){e=f(o,"DIV",{class:!0});var p=u(e);t=f(p,"IMG",{src:!0,class:!0,alt:!0}),c=C(p),n=f(p,"SPAN",{class:!0});var h=u(n);a=$(h,"No file loaded yet..."),h.forEach(r),p.forEach(r),this.h()},h(){M(t.src,i="/empty.png")||l(t,"src",i),l(t,"class","w-80"),l(t,"alt","Please load file."),l(n,"class","text-xl italic text-gray-400"),l(e,"class","flex flex-col items-center justify-center")},m(o,p){U(o,e,p),s(e,t),s(e,c),s(e,n),s(n,a)},p:E,i:E,o:E,d(o){o&&r(e)}}}class K extends O{constructor(e){super(),k(this,e,null,Z,R,{})}}const ee="http://localhost:8080",B=ee+"/employee";class te{constructor(){this.readyPromise=new Promise(e=>{window.AdobeDC?e("Adobe DC View SDK is ready!"):document.addEventListener("adobe_dc_view_sdk.ready",()=>{e("Adobe DC View SDK is ready!")})}),this.adobeDCView=void 0}ready(){return this.readyPromise}createView(e="pdf-container"){const t={clientId:"9fe904f02792442abb9e851e9fd77e3d",divId:e};this.adobeDCView=new window.AdobeDC.View(t)}async previewFile(e={defaultViewMode:"FIT_WIDTH",showAnnotationTools:!1,showDownloadPDF:!1,showPrintPDF:!1}){const t=await fetch(`${B}`).then(a=>a.json()),i=new Blob([new Int8Array(t.data)],{type:"application/pdf"}),c=URL.createObjectURL(i);return this.adobeDCView.previewFile({content:{location:{url:c}},metaData:{fileName:"example.pdf"}},e)}registerSaveApiHandler(){this.adobeDCView.registerCallback(window.AdobeDC.View.Enum.CallbackType.SAVE_API,this.saveApiHandler,{})}saveApiHandler(e,t){return new Promise(i=>{const c=new Blob([t],{type:"application/pdf"}),n=new FormData;n.append("pdf-file",c,"example.pdf"),fetch(`${B}/save`,{method:"POST",body:n}).then(a=>a.json()).then(()=>{const a=document.getElementById("pdf-container");a&&(a.innerHTML="",new K({target:a}));const o={code:window.AdobeDC.View.Enum.ApiResponseCode.SUCCESS,data:{metaData:Object.assign(e,{updatedAt:new Date().getTime()})}};i(o)})})}}function ae(v){let e,t,i,c,n,a,o,p,h,V,I,b,w,_,D,P,F;return _=new K({}),{c(){e=d("div"),t=d("div"),i=d("h1"),c=S("Employee Data"),n=A(),a=d("button"),o=d("iconify-icon"),p=A(),h=d("span"),V=S("Load"),I=A(),b=d("div"),w=d("div"),q(_.$$.fragment),this.h()},l(m){e=f(m,"DIV",{class:!0});var y=u(e);t=f(y,"DIV",{class:!0});var x=u(t);i=f(x,"H1",{class:!0});var T=u(i);c=$(T,"Employee Data"),T.forEach(r),n=C(x),a=f(x,"BUTTON",{class:!0});var g=u(a);o=f(g,"ICONIFY-ICON",{class:!0,icon:!0}),u(o).forEach(r),p=C(g),h=f(g,"SPAN",{});var H=u(h);V=$(H,"Load"),H.forEach(r),g.forEach(r),x.forEach(r),I=C(y),b=f(y,"DIV",{class:!0});var L=u(b);w=f(L,"DIV",{class:!0,id:!0});var N=u(w);G(_.$$.fragment,N),N.forEach(r),L.forEach(r),y.forEach(r),this.h()},h(){l(i,"class","bg-red-500 font-semibold text-center text-xl p-3 text-white"),j(o,"class","text-2xl"),j(o,"icon","solar:import-bold-duotone"),l(a,"class","btn w-1/2 btn-outline my-6 mx-auto"),l(t,"class","border-r flex flex-col flex-1"),l(w,"class","h-full flex flex-col items-center justify-center"),l(w,"id","pdf-container"),l(b,"class","flex-[5] bg-gray-50"),l(e,"class","flex w-full h-screen")},m(m,y){U(m,e,y),s(e,t),s(t,i),s(i,c),s(t,n),s(t,a),s(a,o),s(a,p),s(a,h),s(h,V),s(e,I),s(e,b),s(b,w),z(_,w,null),D=!0,P||(F=J(a,"click",v[0]),P=!0)},p:E,i(m){D||(W(_.$$.fragment,m),D=!0)},o(m){Y(_.$$.fragment,m),D=!1},d(m){m&&r(e),Q(_),P=!1,F()}}}function se(v){let e;X(async()=>{e=new te,await e.ready()});async function t(){e.createView(),e.registerSaveApiHandler(),e.previewFile()}return[t]}class oe extends O{constructor(e){super(),k(this,e,se,ae,R,{})}}export{oe as component};
